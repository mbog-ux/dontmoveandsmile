{% extends 'layout.html' %}
{% block body %}

{% set count = namespace(value=0) %}

<div class="row m-3" id="gallery" data-bs-toggle="modal" data-bs-target="#exampleModal">
  {% for photo in data %}
    
    <div class="col-12 col-sm-6 col-lg-2">
      <img class="w-100 mt-4" src='{{ url_for("static",filename=photo) }}' data-bs-target="#carouselExample" data-bs-slide-to="{{ count.value }}">
    </div>

    {% set count.value = count.value + 1 %}  
  {% endfor %}
</div>
  

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">

      </div>
      <div class="modal-body">

{% set count = namespace(value=0) %}
      <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
              {% for photo in data%}                   
                        <div class="carousel-item {% if count.value==0 %} active {% endif %}">
                            <img class="d-block w-100" src='{{ url_for("static",filename=photo) }}'>
                        </div>
                      {% set count.value = count.value + 1 %} 
              {% endfor %}
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExample" role="button" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExample" role="button" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="background-color:black;">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}



